<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PCB Defect Detection</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <nav class="global-nav">
        <div class="nav-content">
            <a href="#" class="brand">PCB Defect Detection Project</a>
            <div class="nav-links">
                <a href="#proposal">Proposal</a>
                <a href="#datasets">Datasets</a>
                <a href="#methodology">Methodology</a>
                <a href="#evaluation">Evaluation</a>
                <a href="#conclusion">Conclusion</a>
            </div>
        </div>
    </nav>

    <main>
        <section class="hero">
            <h1 class="headline">Intelligent Inspection.</h1>
            <p class="subhead">Fast and accurate PCB defect detection powered by YOLO AI.</p>
        </section>

        <section class="upload-container" id="drop-zone">
            <div class="upload-content">
                <div class="icon-wrapper">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4M17 8l-5-5-5 5M12 3v12" />
                    </svg>
                </div>
                <h2>Upload your PCB image</h2>
                <p class="upload-hint">JPEG or PNG files supported.</p>
                <button class="btn-primary" onclick="document.getElementById('file-input').click()">Choose File</button>
                <input type="file" id="file-input" accept="image/*" hidden>
            </div>
        </section>

        <div class="loading-overlay" id="loading">
            <div class="spinner"></div>
        </div>

        <section class="result-section" id="result-section">
            <div class="result-card">
                <div class="image-wrapper">
                    <img id="result-image" src="" alt="Analyzed PCB">
                </div>
                <div class="analysis-content">
                    <div class="analysis-header">
                        <h3>Analysis Report</h3>
                        <span class="badge">AI Generated</span>
                    </div>
                    <ul id="detection-list" class="detection-list">
                        <!-- Items will be added here -->
                    </ul>
                    <button class="btn-link" onclick="resetApp()">Analyze another image</button>
                </div>
            </div>
        </section>

        <div class="blog-separator"></div>

        <article class="blog-container">
            <div class="team-info">
                <h3>Project Members</h3>
                <p></p>
            </div>

            <section id="proposal" class="blog-section">
                <h2>1. Proposal</h2>
                <div class="section-content">
                    <h3>1.1 배경 및 동기</h3>
                    <p>PCB(인쇄회로기판)은 현대 전자제품 제조 공정에 많이 쓰이는 회로입니다. 산업 현장에서는 머신러닝 패턴 인식을 활용한 자동 광학 검사를 주로 사용해 왔습니다. 하지만, 기존
                        머신러닝 기반 자동광학검사(AOI)는 spur와 같은 비정형 결함 탐지에 명확한 한계를 가지고 있습니다. 특히 5G 통신 및 AI 연산 기능이 고도화됨에 따라 회로 패턴이
                        초미세화되면서, 기존 방식으로는 탐지하기 어려운 미세 결함이 증가하고 있습니다. 이러한 배경에서, 딥러닝 기반의 객체 탐지 기술은 기존 검사 방식의 유연성 부족과 비일관성
                        문제를 해결할 강력한 대안으로 산업 현장에서 연구 중입니다.</p>

                    <h3>1.2 목적</h3>
                    <p>본 프로젝트는 YOLO 아키텍처를 기반으로, 6가지 특정 PCB 결함을 신속하고 정밀하게 구분해내는 자동화 시스템 구축을 목표로 합니다. YOLO 모델의 학습 및 구현을
                        넘어, 실제 산업 현장에서의 적용 신뢰도를 보증하는 것을 중점을 두었습니다. 최종 목적은 결함의 유무 판정을 넘어, 판정 부분 비교를 위한 정량적 데이터(mAP,
                        Precision, Recall)를 제공함으로써 공정 개선에 기여하는 것입니다.</p>
                </div>
            </section>

            <section id="datasets" class="blog-section">
                <h2>2. Datasets</h2>
                <div class="section-content">
                    <h3>2.1 데이터 수집</h3>
                    <p>본 프로젝트는 Kaggle의 'PCB Defects' 데이터셋(akhatova/pcb-defects)을 사용하였습니다. 이 데이터셋은 6가지 주요 PCB 결함 유형을 포함하고
                        있습니다.</p>
                    <ul class="feature-list">
                        <li>missing_hole</li>
                        <li>mouse_bite</li>
                        <li>open_circuit</li>
                        <li>short</li>
                        <li>spur</li>
                        <li>spurious_copper</li>
                    </ul>
                    <div class="blog-image">
                        <img src="https://github.com/user-attachments/assets/f3a4ca0d-3739-4a20-b253-78a2b137826b"
                            alt="PCB Defect Types">
                        <span class="caption">주요 PCB 결함 유형 예시</span>
                    </div>
                    <p>이 중 spur(회로에서 뾰족하게 튀어나온 돌기)와 spurious_copper(회로와 무관하게 잔류하는 구리 조각)는 모두 '불필요한 구리'라는 시각적 유사성을 공유하며,
                        형태가 비정형적이고 크기가 미세하여 모델이 탐지하고 분류하기에 가장 까다로운 유형으로 분석되었습니다.</p>

                    <h3>2.2 데이터 전처리</h3>
                    <ul class="process-list">
                        <li><strong>XML 파싱:</strong> 수백 개의 개별 어노테이션 파일(.xml)을 파싱하여 정보를 추출하고 단일 Pandas DataFrame으로
                            변환하였습니다.</li>
                        <li><strong>이미지 리사이즈:</strong> YOLOv11 모델의 표준 입력 크기인 640x640 픽셀로 일괄 리사이즈하였습니다.</li>
                        <li><strong>좌표 스케일링:</strong> 바운딩 박스 좌표를 리사이즈된 크기에 맞게 비례적으로 스케일링하였습니다.</li>
                        <li><strong>YOLO 포맷 변환:</strong> 학습에 필요한 텍스트(.txt) 라벨 형식으로 변환하였습니다.</li>
                        <li><strong>데이터 분할:</strong> Train:Val:Test = 8:1:1 비율로 분리하여 평가의 객관성을 확보하였습니다.</li>
                    </ul>

                    <h3>2.3 데이터 증강</h3>
                    <p>모델의 일반화 성능과 강인성을 향상시키기 위해 Mixup, HSV 변환, Flip, Degrees 회전 등의 기법을 적용하여 과적합을 방지했습니다.</p>
                </div>
            </section>

            <section id="methodology" class="blog-section">
                <h2>3. Methodology</h2>
                <div class="section-content">
                    <p>실시간성과 높은 정확도를 강점으로 하는 YOLO(You Only Look Once) 아키텍처를 핵심 방법론으로 채택하였습니다.</p>

                    <h3>3.1 데이터셋 분할</h3>
                    <p>총 1386개의 이미지를 학습(1108), 검증(138), 테스트(138) 세트로 분할하여 과적합을 모니터링하고 일반화 성능을 평가했습니다.</p>

                    <h3>3.2 모델 아키텍처 정의</h3>
                    <p>YOLO v11s (Small) 버전을 기반으로 선정하였습니다. 이는 속도와 정확도 간의 균형이 뛰어나 산업 현장에 적합합니다.</p>
                    <div class="blog-image">
                        <img src="https://github.com/user-attachments/assets/69e7166b-3b36-4b2b-b9a4-3f841a5b0015"
                            alt="Model Architecture">
                        <span class="caption">YOLO v11s 아키텍처 구조</span>
                    </div>

                    <h3>3.3 하이퍼파라미터 & 학습 프로세스</h3>
                    <div class="code-block">
                        <pre><code>epochs: 100
batch_size: 16
optimizer: Adam
learning_rate: 0.001
imgsz: 640
mixup: 0.3</code></pre>
                    </div>
                    <p>사전 훈련된 yolo11s.pt 모델을 기반으로 전이 학습(Transfer Learning)을 수행하여 적은 데이터로도 높은 성능을 확보했습니다.</p>
                </div>
            </section>

            <section id="evaluation" class="blog-section">
                <h2>4. Evaluation & Analysis</h2>
                <div class="section-content">
                    <h3>4.1 Performance Metrics</h3>
                    <p>학습이 진행된 100 Epoch 동안 모델은 매우 안정적인 학습 양상을 보였습니다. Train Loss와 Validation Loss 모두 지속적으로 감소하며 과적합 없이
                        수렴했습니다.</p>

                    <div class="grid-images">
                        <div class="blog-image">
                            <img src="https://github.com/user-attachments/assets/36efb3f3-d8af-48c0-a9c1-27ec78de6b2f"
                                alt="Loss Graph">
                        </div>
                        <div class="blog-image">
                            <img src="https://github.com/user-attachments/assets/a625413f-0c12-43ee-bd59-7ed53afb098b"
                                alt="Precision Recall">
                        </div>
                    </div>

                    <p><strong>mAP@0.5:</strong> 0.967로 매우 우수한 성능을 기록했습니다.<br>
                        <strong>최상위 성능:</strong> missing_hole(0.995), open_circuit(0.991)<br>
                        <strong>상대적 취약:</strong> spur(0.912) - 미세한 돌기 형태가 배경과 유사하여 탐지 난이도가 높음.
                    </p>

                    <h3>4.2 Confusion Matrix Analysis</h3>
                    <div class="blog-image">
                        <img src="https://github.com/user-attachments/assets/9a0a1cf0-e78f-408b-88a2-38df259992b7"
                            alt="Confusion Matrix">
                    </div>
                    <p>missing_hole은 100%의 완벽한 분류 성능을 보였으나, spur의 경우 약 18%를 Background로 잘못 예측하는 경향이 있었습니다. 이는 바운딩 박스가 주변
                        정상 회로 픽셀을 포함하면서 발생하는 구조적 한계로 분석됩니다.</p>
                </div>
            </section>

            <section id="related-works" class="blog-section">
                <h2>5. Related Works</h2>
                <div class="section-content">
                    <ul class="ref-list">
                        <li>J. Yosinski et al., "How transferable are features in deep neural networks?," NIPS, 2014.
                        </li>
                        <li>Ultralytics, "YOLOv11 Documentation."</li>
                        <li>J. Redmon et al., "You Only Look Once: Unified, Real-Time Object Detection," CVPR, 2016.
                        </li>
                        <li>I. Loshchilov and F. Hutter, "Decoupled Weight Decay Regularization (AdamW)," ICLR, 2019.
                        </li>
                    </ul>
                </div>
            </section>

            <section id="conclusion" class="blog-section">
                <h2>6. Conclusion</h2>
                <div class="section-content">
                    <h3>6.1 요약 및 성과</h3>
                    <p>본 프로젝트는 YOLOv11 기반의 PCB 결함 탐지 모델을 성공적으로 구현하여 <strong>mAP@0.5 0.973</strong>라는 우수한 성과를 달성했습니다. 이는
                        육안 검사를 대체할 수 있는 높은 잠재력을 입증합니다.</p>

                    <h3>6.2 한계 및 향후 과제</h3>
                    <p>mAP@0.5:0.95 수치가 0.520으로 정밀한 경계선 회귀에 한계를 보였습니다. 특히 spur 결함의 탐지 성능 개선을 위해 Focal Loss 적용이나 고해상도 학습을
                        고려할 필요가 있습니다.</p>
                </div>
            </section>
        </article>
    </main>

    <footer class="global-footer">
        <p>Copyright © 2025 PCB Defect Detection Project. All rights reserved.</p>
    </footer>

    <script src="script.js"></script>
</body>

</html>